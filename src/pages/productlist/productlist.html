<!--
  Generated template for the ProductlistPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content padding>



  <div class="login_form">

    <button ion-button icon-only (click)="closemodal()" small clear class="btn_close">
      <ion-icon name="close"></ion-icon>
    </button>


    <ion-list no-lines>

      <h3 class="heading">Lista de productos</h3>

    </ion-list>

    <ion-item class="filter_item" no-lines no-padding>

      <ion-searchbar (ionChange)="search($event)" placeholder="Search.." no-lines></ion-searchbar>
      <!-- <button ion-button item-end clear menuToggle>
        <img src="assets/imgs/filter.png" height="35">
      </button> -->

    </ion-item>

    <div class="btn_check" *ngFor="let p of products">
      <ion-item class="avtar_item" no-lines>
        <ion-avatar item-start>
          <div class="img_avtar">
            <img src="assets/imgs/user.png">

          </div>
        </ion-avatar>

        <h2>{{p.name}}<span style="float: right;font-size: 12px;font-weight: normal;">ID: #{{p.id}}</span></h2>
        <p [innerHTML]="p.short_description"></p>




      </ion-item>
      <ion-item class="avtar_item">
        <div class="price" *ngFor="let u of p.product_venter">
          <div class="flex_box">
            <div class="f1" (click)="add_item(u)"><b>+</b></div>
            <div class="f2"><b>{{u.qty}}</b></div>
            <div class="f1" (click)="minus_item(u)"><b>-</b></div>
          </div>
          <span style="font-weight: bold;">{{u.unit}} {{u.title}}

            <!-- <ion-input type="number" (ionChange)="dicount_calc($event)"
            style="width: 80px;padding: 10px !important;height: 25px;margin: 0 5px;"
              placeholder="€{{u.price}}/U"></ion-input> -->

            <input type="number" (keyup)="dicount_calc(u,$event)"
            style="width: 80px;padding: 10px !important;height: 25px;margin: 0 5px;"
              placeholder="€{{u.price}}/U"></span>



          <span class="rate" style="margin: 0;"><b>€{{u.product_price | number:'1.0-2'}}</b></span>
        </div>

        <ion-item no-lines no-padding class="total">
          <p style="margin: 0;"><b>Total</b></p>
          <p style="margin: 0;" item-end><b>€{{p.total_price | number:'1.0-2'}}</b>
            <!-- <input type="text" value="1000$"> -->
          </p>
        </ion-item>

      </ion-item>


      <!-- <ion-checkbox color="primary"></ion-checkbox> -->
    </div>

    <ion-row margin-top *ngIf="products.length==0">
      <ion-col col-12 text-center>
        <div class="noDatadiv">
          <ion-icon name="ios-search-outline"></ion-icon>
          <p>Sin registros encontrados!</p>
        </div>
      </ion-col>
    </ion-row>

  </div>


  <ion-fab center bottom>
    <button ion-button color="primary" block (click)="place()">Pedido</button>
  </ion-fab>
</ion-content>
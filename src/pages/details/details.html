<!--
  Generated template for the DetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-buttons start>
      <button ion-button clear icon-only style="margin:0px 10px;">
        <img src="assets/imgs/header/logo.png" height="30">
      </button>
    </ion-buttons>
    <ion-title>Clientes</ion-title>
    <!-- <ion-buttons end>
    <button ion-button (click)="notify()">
    <img src="assets/imgs/home/notification.png" height="15">
    </button>
  </ion-buttons> -->
    <ion-buttons end>
      <button ion-button (click)="profile()">
        <img src="assets/imgs/profile-user.png" height="22">
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <div *ngIf="client_info">
    <!-- *ngFor="let k of [1,2,3,4,5]" -->
    <div class="user" style=" margin-bottom: 1px;">
      <ion-row>
        <ion-col col-12 no-padding>
          <ion-item no-lines>
            <h6 class="heading_int">{{client_info.client_name}}</h6>
            <p><img src="assets/imgs/home/location-active.png">{{client_info.permanent_location}}</p>
            <p><img src="assets/imgs/login/message.png">{{client_info.email}}</p>
            <p><img src="assets/imgs/home/phone.png">{{client_info.phone}} ({{client_info.client_name}})</p>

            <p *ngFor="let p of client_info.client_contact" style="text-decoration: underline;"
              (click)="calling(p.phone)">
              <img src="assets/imgs/home/phone.png">
              {{p.phone}} ({{p.name}})
            </p>

            <p (click)="add_person()"><img src="assets/imgs/plus.png">Añadir contacto</p>

            <div item-end>

              <!-- <button ion-button color="primary" small style="border-radius: 0;font-size: 12px; width: 100%;" ><img src="assets/imgs/check.png" style="margin: 5px;"> Mark as complete</button><br>
            <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;width: 100%;">next visit</button><br> -->
              <button ion-button color="primary" (click)="place()" outline small
                style="border-radius: 0;font-size: 12px;width: 100%;">Lanzar pedido</button>

              <button ion-button color="primary" (click)="next_visit('Next')" *ngIf="next_visits.length==0" outline
                small style="border-radius: 0;font-size: 12px;width: 100%;">Nueva visita</button>
            </div>

          </ion-item>
        </ion-col>
      </ion-row>
    </div>

    <ion-grid no-padding>
      <ion-segment [(ngModel)]="typ">
        <ion-segment-button value="Plan" class="cal_btn">
          Detalles
        </ion-segment-button>
        <ion-segment-button value="personnel" class="cal_btn">
          Visitas
        </ion-segment-button>
        <!-- <ion-segment-button value="photos" class="cal_btn">
      PAST VISIT
    </ion-segment-button>
    <ion-segment-button value="contact" class="cal_btn">
      CONTACT
    </ion-segment-button>
    <ion-segment-button value="notes" class="cal_btn">
      NOTES
    </ion-segment-button> -->
        <ion-segment-button value="past" class="cal_btn">
          Historico de pedidos
        </ion-segment-button>
      </ion-segment>

      <div *ngIf="typ=='Plan'" class="list_plan">
        <div class="user">
          <!-- <ion-row>
         <ion-col col-12 no-padding>
           <ion-item no-lines>
            <h6 class="heading_int">Visit Title</h6>
            <p><img src="assets/imgs/home/location-active.png">315, Pukhraj Corporate, indore</p>
            <p><img src="assets/imgs/home/calender.png">08-Sept-2020</p>
            
    </ion-item>
  </ion-col>
</ion-row> -->


          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">ID de cliente</h6>
                <p>#{{client_info.client_id}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Tipo de cliente</h6>
                <p>{{client_info.client_type}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Email de cliente</h6>
                <p>{{client_info.email}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Region del cliente</h6>
                <p>{{region}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Telefono de cliente</h6>
                <p>{{client_info.phone}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Dir. de facturación</h6>
                <p>{{client_info.billing_address}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <!-- <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Post Code (Billing Address)</h6>
                <p>{{client_info.billing_postcode}}</p>
              </ion-item>
            </ion-col>
          </ion-row> -->

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Dir. de entrega</h6>
                <p>{{client_info.shipping_address}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <!-- <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Post Code (Delivery Address)</h6>
                <p>{{client_info.shipping_postcode}}</p>
              </ion-item>
            </ion-col>
          </ion-row> -->

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Direccion actual</h6>
                <p>{{client_info.permanent_location}}</p>

              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Direccion actual (Latitud, Longitud)</h6>
                <p>{{client_info.lat}}, {{client_info.lng}}</p>
                <button ion-button clear style="height: auto;" (click)="map_view()" item-end
                  *ngIf="auth.isDisconnect==false">
                  <img src="assets/imgs/footer/location-active.png"
                    style="width:30px !important; height:auto !important;">
                </button>
              </ion-item>
            </ion-col>
          </ion-row>

          <!-- <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Current Address (Longitude)</h6>
                <p>{{client_info.lng}}</p>
              </ion-item>
            </ion-col>
          </ion-row> -->

          <!-- <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Region</h6>
                <p>{{client_info.region[0].name}}</p>
              </ion-item>
            </ion-col>
          </ion-row> -->
          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">IBAN</h6>
                <p>{{client_info.iban}}</p>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row *ngIf="client_info.sales_note">
            <ion-col col-12 no-padding>
              <ion-item>
                <h6 class="heading_int">Nota</h6>
                <p style="white-space: normal;font-size: 12px;line-height: 17px;">{{client_info.sales_note.note}}</p>
                <button ion-button (click)="note_modal()" item-end>Ver mas</button>
              </ion-item>
            </ion-col>
          </ion-row>

        </div>
        <!-- 
    <p style="background: #fff;margin: 0;padding: 10px 16px 0;">1 product interested</p>

  <ion-item no-lines class="avtar_item">  
    <ion-avatar item-start>
      <div class="img_avtar">
      <img src="assets/imgs/user.png">
    </div>

    </ion-avatar>
  

    <h2>Product Name</h2>
    <p>2 x 1L(5,4 E/L)</p>
    <p>1 x 20L(5,4 E/L)</p>
    <button ion-button smaall clear item-end><b style="color: #000;">250$</b></button>
  </ion-item> -->

        <div class="user">
          <ion-row>
            <ion-col col-12 no-padding>
              <ion-item no-lines>
                <!-- <h6 class="heading_int">Visit Note</h6>
            <p style="white-space: normal;font-size: 12px;line-height: 17px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took</p> -->
                <!-- <button ion-button color="primary" small style="border-radius: 0;font-size: 12px;" ><img src="assets/imgs/check.png"> Mark as complete</button>
            <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;" (click)="next()">Reshedule visit</button>
            <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;" (click)="place()">Place order</button> -->

              </ion-item>
            </ion-col>
          </ion-row>
        </div>
      </div>

      <!-- visit tab's showing  -->
      <div *ngIf="typ=='personnel'" class="list_plan">
        <ion-grid padding>
          <ion-row>
            <ion-segment [(ngModel)]="visit_segment">
              <ion-segment-button value="visit_next" class="cal_btn">
                Prox. Visita
              </ion-segment-button>
              <ion-segment-button value="visit_past" class="cal_btn">
                Visita anterior
              </ion-segment-button>
            </ion-segment>
          </ion-row>
        </ion-grid>

        <div *ngIf="visit_segment =='visit_next'">
          <div class="user" *ngFor="let c of next_visits">
            <ion-row>
              <ion-col col-12>
                <ion-item [ngClass]="c.visit_data.is_clicked?'highlite-content':''">
                  <h6 class="heading_int">{{c.client.client_name}}</h6>
                  <p>
                    <img src="assets/imgs/home/location-active.png">
                    {{c.client.permanent_location}}
                  </p>
                  <p class="">
                    <img src="assets/imgs/home/calender.png">
                    {{c.visit_data.visite_date}}
                  </p>

                  <p class="color_2" style="text-decoration: underline;"
                    *ngFor="let p of c.client.client_contact | slice: 0:1" (click)="calling(p.phone)">
                    <img src="assets/imgs/home/phone.png"><span>{{p.phone}}</span>({{p.name}})
                  </p>

                  <!-- <p class="color color_2"><img src="assets/imgs/home/phone.png"><span>+91524658452</span> John Smith</p> -->
                  <button ion-button color="primary" small style="border-radius: 0;font-size: 12px;padding:0 5px"
                    (click)="sales(c)"><img src="assets/imgs/check.png">Finalizar visita</button>

                  <!-- <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;" 
                (click)="next1()">next visit</button> -->

                  <button ion-button color="primary" outline small
                    style="border-radius: 0;font-size: 12px;padding:0 5px" (click)="product(c)">Lanzar pedido</button>

                  <button ion-button color="primary" outline small
                    style="border-radius: 0;font-size: 12px;padding:0 5px" (click)="rechedule(c)">Reagendar
                    Visita</button>

                </ion-item>
              </ion-col>
            </ion-row>
          </div>
          <ion-row *ngIf="next_visits.length==0" margin-top>
            <ion-col col-12 text-center>
              <div class="noDatadiv">
                <ion-icon name="ios-search-outline"></ion-icon>
                <p>Sin registros encontrados!</p>
              </div>
            </ion-col>
          </ion-row>
        </div>
        <div *ngIf="visit_segment =='visit_past'">
          <div class="user" *ngFor="let c of past_visits">
            <ion-row>
              <ion-col col-12>
                <ion-item>
                  <h6 text-wrap class="heading_int">{{c.client.client_name}}</h6>
                  <p text-wrap>
                    <img src="assets/imgs/home/location-active.png">
                    {{c.client.permanent_location}}
                  </p>
                  <p class="">
                    <img src="assets/imgs/home/calender.png">
                    {{c.visit_data.visite_date}}
                  </p>

                  <p class="color_2" style="text-decoration: underline;"
                    *ngFor="let p of c.client.client_contact | slice: 0:1" (click)="calling(p.phone)">
                    <img src="assets/imgs/home/phone.png"><span>{{p.phone}}</span>({{p.name}})
                  </p>
                  <p *ngIf="c.visit_data.note" text-wrap>
                    {{c.visit_data.note}}
                  </p>

                  <button ion-button small item-end outline style="border-radius: 0;" (click)="rechedule(c)">
                    Reschedule</button>

                  <button ion-button item-end color="primary" small *ngIf="c.order_history.length>0"
                    style="border-radius: 0;font-size: 12px;"
                    (click)="visit_detail(c.order_history[0].order_id,c)">Detalle del pedido</button>

                  <!-- <button ion-button color="primary" small style="border-radius: 0;font-size: 12px;" 
                (click)="sales(c)"><img src="assets/imgs/check.png">End visit</button>
    
                <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;" 
                (click)="product(c)">Place order</button>
    
                <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;" 
                (click)="rechedule(c)">Reschedule visit</button> -->

                </ion-item>
              </ion-col>
            </ion-row>
          </div>
          <ion-row *ngIf="past_visits.length==0" margin-top>
            <ion-col col-12 text-center>
              <div class="noDatadiv">
                <ion-icon name="ios-search-outline"></ion-icon>
                <p>Sin registros encontrados!</p>
              </div>
            </ion-col>
          </ion-row>
        </div>
      </div>

      <div *ngIf="typ=='personnel1'" class="list_plan">

        <div class="seprator" *ngIf="clients.length>0">
          <div class="user" style=" margin-bottom: 1px;">
            <ion-row>
              <ion-col col-12 no-padding>
                <ion-item no-lines>
                  <h6 class="heading_int">Next Visit Planned</h6>
                  <p style="margin: 0;">{{clients[0].visit_data.visite_date}}</p>
                  <!-- <p>Friday</p> -->
                  <div item-end>
                    <button ion-button color="primary" (click)="next_visit('Reschedule')" outline small
                      style="border-radius: 0;font-size: 12px;width: 100%;">Reagendar Visita</button>

                    <!-- <button ion-button color="primary" (click)="next_visit('Next')" outline small style="border-radius: 0;font-size: 12px;width: 100%;">New Visit</button> -->
                  </div>

                </ion-item>
              </ion-col>
            </ion-row>
          </div>
        </div>



        <ion-item no-padding no-lines *ngIf="past_visits.length>0">
          <h6 class="heading_int" style="padding: 0 16px;">Visita anterior</h6>
          <!-- <p item-end style="color: #000;margin-top: 0;">08-Sept-2020</p> -->
          <p style="margin: 0;">
            <img src="assets/imgs/home/calender.png" style="margin:0 8px 0 16px; width: 12px;height: auto;">
            {{past_visits[0].client.updated_at}}
          </p>
        </ion-item>


        <div *ngFor="let p of past_visits;let i=index;">
          <ion-item no-padding no-lines *ngIf="past_visits.length>0">
            <h6 class="heading_int" style="padding: 0 16px;" *ngIf="i==0">Visita anterior</h6>
            <!-- <p item-end style="color: #000;margin-top: 0;">08-Sept-2020</p> -->
            <p style="margin: 0;">
              <img src="assets/imgs/home/calender.png" style="margin:0 8px 0 16px; width: 12px;height: auto;">
              {{p.client.updated_at}}
            </p>
          </ion-item>
          <div class="avtar_item" style="padding-top: 5px;padding-bottom: 0;">

            <h6 class="heading_int" style="padding:0;">Nota</h6>
            <p style="white-space: normal;font-size: 15px;line-height: 17px;margin-top: 5px;">
              {{p.visit_data.note}}</p>
          </div>


          <div class="seprator" *ngFor="let o of p.order_history;let i = index">

            <h6 class="heading_int" style="padding: 0 16px;">Orders</h6>
            <p style="background: #fff;margin: 0;padding:0 16px;font-weight: normal;">{{i+1}} Productos pedidos</p>
            <div *ngFor="let t of o.order_item" class="previous">
              <!-- <p style="margin: 0;"><img src="assets/imgs/home/calender.png" style="margin:0 8px 0 16px; width: 12px;">08-Sept-2020</p> -->
              <ion-item class="avtar_item" *ngFor="let p of t.items">
                <ion-avatar item-start>
                  <div class="img_avtar">
                    <img src="assets/imgs/user.png">
                  </div>
                </ion-avatar>

                <h2>{{t.product_name}}</h2>
                <p>{{p.item_qty}} x {{p.product_title}}</p>
                <!-- <p>1 x 20L(5,4 E/L)</p> -->
                <p style="margin: 0;" item-end><b style="color: #000;">€{{p.item_total_price}}</b></p>
              </ion-item>
            </div>

            <div class="avtar_item" style="padding-top: 0;">
              <!-- <h6 class="heading_int">Note:</h6>
                  <p style="white-space: normal;font-size: 15px;line-height: 17px;margin-top: 5px;">Shipping included, Delivery next month</p> -->
            </div>

          </div>
        </div>

        <ion-row *ngIf="past_visits.length==0" margin-top>
          <ion-col col-12 text-center>
            <div class="noDatadiv">
              <ion-icon name="ios-search-outline"></ion-icon>
              <p>Sin registros encontrados!</p>
            </div>
          </ion-col>

        </ion-row>



        <!-- <div class="user">
    <ion-row>
         <ion-col col-12 no-padding>
           <ion-item no-lines>
            <h6 class="heading_int">Visit Title</h6>
            <p><img src="assets/imgs/home/location-active.png">315, Pukhraj Corporate, indore</p>
            <p class="color"><img src="assets/imgs/home/calender.png">08-Sept-2020</p>
            
    </ion-item>
  </ion-col>
</ion-row>
    </div> -->

        <!-- <div class="segment_nw">
      <ion-segment [(ngModel)]="type" class="cal_segment">
        <ion-segment-button value="day" class="">
           NEXT WEEK
        </ion-segment-button>
        <ion-segment-button value="week"  class="">
            NEXT MONTH
        </ion-segment-button>
        <ion-segment-button value="month"  class="">
            NEXT QUARTER
        </ion-segment-button>
    </ion-segment>
    </div> -->


        <!-- <ion-grid no-padding class="grid_calender">

      <ion-row style="padding: 0 0;">
       <ion-item no-lines no-padding>
         <h1 class="heading" >July 08, 2020 <button ion-button color="primary" small no-border-radius>Today</button></h1>
         <button clear item-start style="background: transparent;color: #f8006f;"> <ion-icon name="ios-arrow-back-outline"></ion-icon></button>
         <button item-end clear color="light"  style="background: transparent;color: #f8006f;"> <ion-icon name="ios-arrow-forward-outline"></ion-icon></button>
       </ion-item>
      </ion-row>
  
      <ion-row>
        <ion-col col no-padding style="padding-right: 2px !important;">
          <button no-margin small ion-button class="btn_day">Mon</button>
        </ion-col> 
        <ion-col col no-padding  style="padding-right: 2px !important;">
          <button no-margin small ion-button class="btn_day">Tue</button>
        </ion-col> 
        <ion-col col no-padding  style="padding-right: 2px !important;">
          <button no-margin small ion-button class="btn_day">Wed</button>
        </ion-col> 
        <ion-col col no-padding style="padding-right: 2px !important;">
          <button no-margin small ion-button class="btn_day">Thu</button>
        </ion-col> 
        <ion-col col no-padding  style="padding-right: 2px !important;">
          <button no-margin small ion-button class="btn_day">Fri</button>
        </ion-col> 
        <ion-col col no-padding  style="padding-right: 2px !important;">
          <button no-margin small ion-button class="btn_day">Sat</button>
        </ion-col> 
        <ion-col col no-padding>
          <button no-margin small ion-button class="btn_day">Sun</button>
        </ion-col>
        </ion-row>
  
      <ion-row style="padding: 0 0;">
        <ion-col col>
          <h3 class="date"></h3>
        </ion-col> 
        <ion-col col>
          <h3 class="date"></h3>
        </ion-col> 
        <ion-col col>
          <h3 class="date"></h3>
        </ion-col> 
        <ion-col col>
          <h3 class="date active">1
            <span class="visit">3 Visit</span>
          </h3>
        </ion-col> 
        <ion-col col>
          <h3 class="date">2</h3>
        </ion-col> 
        <ion-col col>
          <h3 class="date">3</h3>
        </ion-col> 
        <ion-col col>
          <h3 class="date">4
            <span class="visit">3 Visit</span>
          </h3>
        </ion-col>
        </ion-row>
  
        <ion-row style="padding: 0 0;">
          <ion-col col>
            <h3 class="date">5</h3>
          </ion-col> 
          <ion-col col>
            <h3 class="date">6</h3>
          </ion-col> 
          <ion-col col>
            <h3 class="date">7</h3>
          </ion-col> 
          <ion-col col>
            <h3 class="date">8</h3>
          </ion-col> 
          <ion-col col>
            <h3 class="date">9
              <span class="visit">3 Visit</span>
            </h3>
          </ion-col> 
          <ion-col col>
            <h3 class="date">10</h3>
          </ion-col> 
          <ion-col col>
            <h3 class="date">11</h3>
          </ion-col>
          </ion-row>
  
          <ion-row style="padding: 0 0;">
            <ion-col col>
              <h3 class="date">12
                <span class="visit">3 Visit</span>
              </h3>
            </ion-col> 
            <ion-col col>
              <h3 class="date">13</h3>
            </ion-col> 
            <ion-col col>
              <h3 class="date">14</h3>
            </ion-col> 
            <ion-col col>
              <h3 class="date">15</h3>
            </ion-col> 
            <ion-col col>
              <h3 class="date">16</h3>
            </ion-col> 
            <ion-col col>
              <h3 class="date">17</h3>
            </ion-col> 
            <ion-col col>
              <h3 class="date">18</h3>
            </ion-col>
            </ion-row>
  
            <ion-row style="padding: 0 0;">
              <ion-col col>
                <h3 class="date">19
                  <span class="visit">3 Visit</span>
                </h3>
              </ion-col> 
              <ion-col col>
                <h3 class="date">20</h3>
              </ion-col> 
              <ion-col col>
                <h3 class="date">21</h3>
              </ion-col> 
              <ion-col col>
                <h3 class="date">22</h3>
              </ion-col> 
              <ion-col col>
                <h3 class="date">23
                  <span class="visit">3 Visit</span>
                </h3>
              </ion-col> 
              <ion-col col>
                <h3 class="date">24</h3>
              </ion-col> 
              <ion-col col>
                <h3 class="date">25</h3>
              </ion-col>
              </ion-row>
  
              <ion-row style="padding: 0 0;">
                <ion-col col>
                  <h3 class="date">26
                    <span class="visit">3 Visit</span>
                  </h3>
                </ion-col> 
                <ion-col col>
                  <h3 class="date">27</h3>
                </ion-col> 
                <ion-col col>
                  <h3 class="date">28</h3>
                </ion-col> 
                <ion-col col>
                  <h3 class="date">29</h3>
                </ion-col> 
                <ion-col col>
                  <h3 class="date">30
                    <span class="visit">3 Visit</span>
                  </h3>
                </ion-col> 
                <ion-col col>
                  <h3 class="date">31</h3>
                </ion-col> 
                <ion-col col>
                  <h3 class="date"></h3>
                </ion-col>
                </ion-row>
    </ion-grid> -->


      </div>

      <div *ngIf="typ=='photos'" class="list_plan">
        <!-- <div class="user">
    <ion-row>
         <ion-col col-12 no-padding>
           <ion-item no-lines>
            <h6 class="heading_int">Visit Title</h6>
            <p><img src="assets/imgs/home/location-active.png">315, Pukhraj Corporate, indore</p>
            <p class="color"><img src="assets/imgs/home/calender.png">08-Sept-2020</p>
            
    </ion-item>
  </ion-col>
</ion-row>
    </div> -->

        <!-- <p style="background: #fff;margin: 0;padding: 16px;"><b>Previous Visits (2)</b></p>

<div *ngFor="let k of [1,2]" class="previous">
  <p style="margin: 0;"><img src="assets/imgs/home/calender.png" style="margin:0 8px 0 16px; width: 12px;">08-Sept-2020</p>
  <ion-item no-lines class="avtar_item">  
    <ion-avatar item-start>
      <div class="img_avtar">
      <img src="assets/imgs/user.png">
    </div>

    </ion-avatar>
  

    <h2>Product Name</h2>
    <p>Quantity: 2</p>
    <p>1L Bottle</p>
    <button ion-button smaall clear item-end><b style="color: #000;">250€</b></button>
  </ion-item>
<div class="avtar_item" style="padding-top: 0;">
  <h6 class="heading_int">Visit Note</h6>
            <p style="white-space: normal;font-size: 12px;line-height: 17px;margin-top: 5px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took</p>
</div>
            

  </div> -->

        <!-- 
  <div class="btn_next">
       <button ion-button color="primary" outline small style="border-radius: 0;font-size: 12px;" (click)="next()">Next visit</button>
   </div> -->

      </div>



      <div *ngIf="typ=='contact'" class="list_plan">
        <div class="item_past" *ngFor="let k of [1,2,3,4]">
          <!-- <p style="padding: 0 16px; margin-bottom: 0;">Date: 18/08/2020</p> -->
          <ion-item class="avtar_item">
            <!-- <ion-avatar item-start>
        <div class="img_avtar">
        <img src="assets/imgs/user.png">
      </div>
    </ion-avatar> -->

            <h2>John Doe</h2>
            <p>+91 525485456</p>
          </ion-item>
        </div>
      </div>






      <!-- <div *ngIf="typ=='notes'" class="list_plan">

  <div class="user">
    <ion-row>
         <ion-col col-12 no-padding>
           <ion-item no-lines>
            <h6 class="heading_int">Notes</h6>
            <p style="white-space: normal;font-size: 12px;line-height: 17px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer tookLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took</p>
            
    </ion-item>
  </ion-col>
</ion-row>
    </div>
</div> -->


      <div *ngIf="typ=='past'" class="list_plan">


        <div *ngFor="let o of order_histories">
          <p style="background: #fff;margin: 0;padding: 16px;">Fecha de pedido: {{o.create_date}} <span
              style="float:right;">Nombre de cliente:{{o.client_name}}</span></p>

          <div class="user">

            <ion-row style="background: #fff;">
              <!-- <ion-col col-4 no-padding>
          <ion-item no-lines>
            <img src="assets/imgs/detail.png" style="width: 100px;height: 100%;margin-bottom: 16px;">
           <h6 class="heading_int">Client Note</h6>
           <p style="white-space: normal;font-size: 12px;line-height: 17px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took</p>
           
   </ion-item>
 </ion-col> -->
              <ion-col col-12 no-padding>
                <ion-item no-padding class="avtar_item avtar_item_right" *ngFor="let p of o.order_item">
                  <ion-avatar item-start>
                    <div class="img_avtar">
                      <img src="assets/imgs/user.png">
                    </div>
                  </ion-avatar>


                  <h2>{{p.product_name}}</h2>
                  <!-- <p>Quantity: {{k.item_qty}}</p>
     <p>{{k.item_title}} - price XEUR</p>
    <button ion-button smaall clear item-end><b style="color: #000;">€{{k.item_price}}</b></button> -->
                  <ion-item no-padding class="avtar_item avtar_item_right item-con" *ngFor="let k of p.items" no-lines>
                    <!-- <p>Quantity: {{k.item_qty}}</p>
      <p>{{k.item_title}} - price XEUR</p> -->

                    <!-- <h2>{{p.product_name}}</h2> -->
                    <p>{{k.product_title}} X {{k.item_qty}} X {{k.product_unit}} </p>

                    <button ion-button smaall clear item-end><b style="color: #000;">€{{k.item_total_price |
                        number:'1.0-2'}}</b></button>
                  </ion-item>
                </ion-item>
              </ion-col>
              <!-- <ion-col col-12 no-padding>
   
 </ion-col> -->
            </ion-row>
            <ion-item no-lines style="padding: 0 16px;" class="total">
              <p style="margin: 0;"><b>Total</b></p>
              <p style="margin: 0;" item-end><b>€{{o.total_cost | number : '1.0-2'}}</b></p>
              <button ion-button item-end color="primary" small style="border-radius: 0;font-size: 12px;"
                (click)="order_detail(o.order_id)">Detalle del pedido</button>
            </ion-item>
          </div>
        </div>

        <ion-row *ngIf="order_histories.length==0" margin-top>
          <ion-col col-12 text-center>
            <div class="noDatadiv">
              <ion-icon name="ios-search-outline"></ion-icon>
              <p>Sin registros encontrados!</p>
            </div>
          </ion-col>

        </ion-row>

      </div>

    </ion-grid>
  </div>
</ion-content>